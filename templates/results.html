{% extends "bootstrap/base.html" %}
{% include 'nav.html' %}
{% block content %}


<div class="container">
    {% if video_result is defined %}
      <div class="col-md-7">
        <pre>{{ string }}</pre>
      </div>

      <div class="col-md-5">

        <h3>Video info - not item</h3>
        <ul>
          <li>{{ video_result['etag']|safe }}</li>
          <li>{{ video_result['pageInfo']|safe }}</li>
          <li>{{ video_result['kind']|safe }}</li>
        </ul>

        <h3>Item info</h3>
        {% for  dict_item in video_result['items'] %}
          <ul>
            {% for subkey, subvalue in dict_item.items() %}
              <li>{{ subkey }}</li>
                {% if subkey == 'snippet'%}
                  <ul><li><strong>publishedAt</strong> : {{ subvalue['publishedAt'] }}</li></ul>
                  <ul><li><strong>tags</strong> : {{ subvalue['tags'] }}</li></ul>
                  <ul><li><strong>description</strong> : {{ subvalue['description'] }}</li></ul>
                  <ul><li><strong>channelTitle</strong> : {{ subvalue['channelTitle'] }}</li></ul>
                  <ul><li><strong>categoryId</strong> : {{ subvalue['categoryId'] }}</li></ul>
                  <ul><li><strong>title</strong> : {{ subvalue['title'] }}</li></ul>

                {% else  %}
                  <ul><li>{{ subvalue }}</li></ul>
                {% endif %}
          {% endfor %}
          </ul>
        {% endfor %}


        <h4>Comments</h4>
        <h4>Captions</h4>

      </div>

  {% elif search_results is defined %}
    <div class="row">
      <ul class="pagination">
        {% if video_result is defined %}
        {% elif counter > 0 %}
          <li>
            <a href="?prevPageToken={{ prev }}"> Prev </a>
          </li>
        {% endif %}
        <li class="active">
          <a  href="#">{{ counter }}</a>
        </li>
        <li>
          <a href="?nextPageToken={{ search_results['nextPageToken'] }}">Next</a>
        </li>
        <li>
          <a href="process_results"> Go to end & download </a>
        </li>
      </ul>
    </div>

    <div class="row">
      <div class="col-md-7">
        <pre>{{ string }}</pre>
      </div>


      <div class="col-md-5">

        <h3>first level - not items</h3>
        <ul>
          <li>{{ search_results['nextPageToken']|safe }}</li>
          <li>{{ search_results['regionCode']|safe }}</li>
          <li>{{ search_results['pageInfo']|safe }}</li>
          <li>{{ search_results['etag']|safe }}</li>
          <li>{{ search_results['kind']|safe }}</li>
        </ul>

        <h3>items</h3>
        {% for  dict_item in search_results['items'] %}
          <ul>
          {% for key, value in dict_item.items() %}

            {% if key == 'id'%}
              <li> {{ key|upper }} : {{ value['videoId']|safe }}</li>
            {% endif %}

            {% if key == 'snippet'%}
              <li> TITLE : {{ value['title']|safe }}</li>
              <li> DESCRIPTION : {{ value['description']|safe }}</li>
              <li> CHANNEL_TITLE : {{ value['channelTitle']|safe }}</li>
              <li> CHANNEL_ID : {{ value['channelId']|safe }}</li>
              <li> PUBLISHED_AT : {{ value['publishedAt']|safe }}</li>
              <p>
                <a href="https://www.youtube.com/watch?v={{ dict_item['id']['videoId']|safe }}">
                  <img src="{{ value['thumbnails']['default']['url']|safe }}">
                </a>
              </p>
            {% endif %}
          {% endfor %}
          </ul>
        {% endfor %}

      </div>
    </div>



      {% endif %}

</div>
{% endblock %}
